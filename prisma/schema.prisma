generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DEV_CLUSTER")
}

model Premium {
  id       String   @id @default(auto()) @map("_id") @db.ObjectId
  guild    String   @unique
  status   Boolean  @default(false)
  expireAt DateTime @default(now())
}

model Welcome {
  id       String          @id @default(auto()) @map("_id") @db.ObjectId
  guild    String          @unique
  status   Boolean         @default(false)
  roles    String[]
  channel  String?
  webhook  String?
  messages WelcomeMessages
}

type WelcomeMessages {
  guild  WelcomeGuildMessages
  direct WelcomeDirectMessages
}

type WelcomeDirectMessages {
  status Boolean             @default(false)
  join   WelcomeMessageData?
}

type WelcomeGuildMessages {
  status Boolean            @default(false)
  join   WelcomeMessageData
  left   WelcomeMessageData
}

type WelcomeMessageData {
  message String?
  embed   WelcomeMessageEmbedData
}

type WelcomeMessageEmbedData {
  url            String?
  rawUrl         String?
  color          String?
  rawColor       String?
  title          String?
  author         String?
  footer         String?
  authorImage    String?
  rawAuthorImage String?
  footerImage    String?
  rawFooterImage String?
  description    String?
  thumbnail      String?
  rawThumbnail   String?
  image          String?
  rawImage       String?
  fields         WelcomeMessageEmbedFieldData[]
  timestamp      Boolean                        @default(false)
}

type WelcomeMessageEmbedFieldData {
  id     Int
  name   String
  value  String
  inline Boolean @default(false)
}